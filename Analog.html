<!DOCTYPE html>
<html>
	<head>
		<title>Stopwatch - Analog</title>		
		<script type="text/javascript" src="Stopwatch.js"></script>
		<style type="text/css">
			#canvas{
				border: 1px solid #000;
				background-color: #000;
				height:300px;
				width:300px;
				margin: auto;
				display: block;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas" width="300px" height="300px"></canvas>
		<script type="text/javascript">
			var canvas = document.getElementById('canvas'),
				ctx = canvas.getContext('2d'),
				sw = new Stopwatch();	
				
			ctx.strokeStyle = '#fff';

			sw.onTimeUpdated = function(){
				var time = this.getCurrentTime(),
					secs = time.secs,
					secsRad = (2*secs*Math.PI/60)+(Math.PI/2),
					mins = time.mins,
					minsRad = (2*mins*Math.PI/60)+(Math.PI/2);
				ctx.clearRect(0,0,canvas.height,canvas.width);
				ctx.beginPath();
				ctx.arc(150,150,125,0,2*Math.PI);
				ctx.stroke();
				
				ctx.moveTo(150,150);
				ctx.lineTo(150-125*Math.cos(secsRad),150-125*Math.sin(secsRad));
				ctx.stroke();
				
				ctx.moveTo(150,150);
				ctx.lineTo(150-100*Math.cos(minsRad),150-100*Math.sin(minsRad));
				ctx.stroke();
			}
			
			sw.start();
		</script>
	</body>
</html>
